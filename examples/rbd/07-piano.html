<title>Piano Synthesizer Tutorial</title>

<p align=center><b>
<a href="https://forum.audacityteam.org/">Audacity Support Forum</a> /
<a href="../../nyquist.html">Audacity and Nyquist</a> /
<a href="../../manual/home.html">Nyquist Reference Manual</a> /
<a href="../examples.html">Nyquist Examples and Tutorials</a>
</b></p>

<h1 align=center>Piano Synthesizer Tutorial</h1>

<p align=center>This page describes how to use the piano synthesizer in
Nyquist.</p>

<p align=center>Sound examples: 
<a href="07-piano/piano-note.ogg">piano-note.ogg</a> -
<a href="07-piano/demo.ogg">demo.ogg</a></p>

<br>

<p>First, load the file &quot;pianosyn.lsp&quot; to initialize the
synthesizer. The file is in the Nyquist &quot;lib&quot; directory.</p>

<pre>
   &gt;(load &quot;pianosyn&quot;)
</pre>

<p>After the piano synthesizer has been initialized and returns, you can use
the functions provided by the synthesizer program to generate piano sounds.</p>

<p>The functions are shown as below:</p>

<h2>Generate a single note</h2>

<p>Use the function:</p>

<pre>
   (<b>piano-note</b> duration step dynamic)
</pre>

<ul>
<li><tt>duration</tt> - represents the duration of the note in seconds.</li>
<li> <tt>step</tt> - represents the pitch of note, and uses step values as in
all Nyquist functions. For example, value 60 is middle C (C4).</li>
<li><tt>dynamic</tt> - means the dynamics of the note, and it ranges from 0 to
127. In a midi file, it is used as the velocity of the note. </li>
</ul>

<p>This behavior returns a sound. You can use <tt>(play (piano-note...))</tt>
or <tt>(s_save (piano-note...)...)</tt> to play or save the sound.</p>
 
<p>Examples:</p>

<pre>
   &gt;(play (piano-note 4 60 100))
</pre>

<p>- Sound example: <a href="07-piano/piano-note.ogg">piano-note.ogg</a></p>

<p>The command above will generate and immediately play a C4 note that lasts 4
seconds, velocity at 100.</p>

<h2>Synthesize piano music according to a midi file</h2>

<p>To convert a midi file to sound, use the function:</p>

<pre>
   (<b>piano-midi</b> midi-file-name)
</pre>

<ul>
<li><tt>midi-file-name</tt> - is a string representing the name of the midi file.
</li>
</ul>

<p>This behavior will generate sound according to the score of the midi file.
It generates stereo sound, and the sample rate is the default sound sample
rate.</p>

<h2>Convert midi file to sound file</h2>

<p>To convert a midi file to a sound file using the piano synthesizer, use the 
function:</p>

<pre>
   (<b>piano-midi2file</b> midi-file-name sound-file-name)
</pre>

<ul>
<li><tt>midi-file-name</tt> - is a string representing the name of the midi file.
</li>
<li><tt>sound-file-name</tt> - is a string representing the name of the sound
file.</li>
</ul>

<p>This command will generate a sound file according to the score of the midi
file and play it at the same time. It generates stereo sound, and the sample
rate is the default sound sample rate.</p>
 
<h3>Example:</h3>

<pre>
   &gt;(piano-midi2file &quot;demo.mid&quot; &quot;demo.wav&quot;)
</pre>

<p>- Sound example: <a href="07-piano/demo.ogg">demo.ogg</a></p>

<p>&quot;demo.mid&quot; is the name of the midi file. It saves the output
sound into &quot;demo.wav&quot;, and plays it when generating the output.</p>

<p>A <a href="05-midi-tutorial/demo.mid">demo.mid</a> midi file can be
downloaded from here by right-click - save target as...</p>

<p><i>Generated by Ning Hu(ning_hu@cmu.edu)		Mar.22, 2001</i></p>

<br>

<p align=center><b>
<a href="https://forum.audacityteam.org/">Audacity Support Forum</a> /
<a href="../../nyquist.html">Audacity and Nyquist</a> /
<a href="../../manual/home.html">Nyquist Reference Manual</a> /
<a href="../examples.html">Nyquist Examples and Tutorials</a>
</b></p>
