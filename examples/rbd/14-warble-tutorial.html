<title>Warble Tutorial</title>

<p align=center><b>
<a href="https://forum.audacityteam.org/">Audacity Support Forum</a> /
<a href="../../nyquist.html">Audacity and Nyquist</a> /
<a href="../../manual/home.html">Nyquist Reference Manual</a> /
<a href="../examples.html">Nyquist Examples and Tutorials</a>
</b></p>

<h1 align=center>Warble Tutorial</h1>

<p align=center>Sound examples:
<a href="14-warble/thicker.ogg">thicker.ogg</a> -
<a href="14-warble/blurp.ogg">blurp.ogg</a></p>

<br>

<p>The warble function by Alex illustrates the use of AM and FM oscillators to
create an &quot;analog&quot; electronic synthesizer sound.</p>

<pre>
   (defun warble (&amp;optional (dur 1) (pch 60))
     (stretch dur 
       (sum (mult
              (env 0.017 0.1 0.004 1 0.7 0.8 1)
              (amosc pch (fmosc (hz-to-step 8) 
                                (pwl 0 4 0.2 -4 0.56 9 0.7 0 1 -8 1))))
            (mult (stretch 0.96 (env 0.2 0.09 0.07 0.92 0.8 0.6 1))
                  (amosc pch (fmosc (* pch 1.414) 
                                    (pwl 0.2 80 0.5 4 0.9 1120 1 200 1)))))))
</pre>

<p>- Sound example: <a href="14-warble/warble.ogg">warble.ogg</a>

<p>This sound is the sum of two components. To find the two components, look
for <tt>(mult ...)</tt>. Each of these components is the product of an envelope
and an AM oscillator. The first one modulates the AM oscillator with a low
frequency (about 8 Hz) sinusoid produced by an FM oscillator. The modulator
varies in frequency according to a piece-wise linear envelope.</p>

<p>The second component is similar, but uses a much higher modulating frequency
in the audio range, producing a ring-modulation effect. Another piece-wise
linear envelope sweeps the modulator frequency by as much as 1120 Hz.</p>

<h2>Thicker Texture</h2>

<p>A thicker texture can be obtained by playing copies of warble together with
slight parameter changes. Here is an example:</p>

<pre>
   (defun thicker ()
     (sim (scale 0.5 (at 0.00 (warble 8 48)))
          (scale 0.3 (at 0.05 (warble 8.05 47.9)))))
</pre>

<p>- Sound example: <a href="14-warble/thicker.ogg">thicker.ogg</a>

<h2>Another FM Sound</h2>

<p>The following produces another analog-sounding FM texture:</p>

<pre>
   (defun mod (dur) 
     (stretch dur
       (mult (pwl 0 1000 .2 200 .5 8000 1 100 1)
	     (fmosc c4 (pwl 0 1 .5 3.25 1 .74 1)))))
</pre>

<pre>
   (defun blurp (dur)
     (fmosc c3 (mult (osc 07 dur) (mod dur))))
</pre>

<p>- Sound example: <a href="14-warble/blurp.ogg">blurp.ogg</a>

<p>This example relies on a combination of AM and FM: the output is from an FM
oscillator, but its modulator is formed by multiplying (AM) two oscillators.
The first is low frequency (about 12 Hz), giving a warbling sound, and the
second, generated by <tt>(mod dur)</tt>, is another FM oscillator. It appears
that the modulation generated by the piece-wise linear function is almost
insignificant. You might try scaling the expression (pwl 0 1 .5 3.25 1 .74 1)
in <tt>mod</tt> by varying amounts to see what happens.</p>

<p>The original duration of <tt>blurp</tt> was 3.1 (seconds), but longer
versions are interesting and reveal more detail.</p>

<h2>Yet Another Sound</h2>

<p>See "<u>Other Sounds Using Ring</u>" in <a href="12-scratch-tutorial.html">
Vinal Scratch Tutorial</a> for another example.</p>

<br>

<p align=center><b>
<a href="https://forum.audacityteam.org/">Audacity Support Forum</a> /
<a href="../../nyquist.html">Audacity and Nyquist</a> /
<a href="../../manual/home.html">Nyquist Reference Manual</a> /
<a href="../examples.html">Nyquist Examples and Tutorials</a>
</b></p>
